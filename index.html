<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sistema Horus</title>

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Chart.js -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> -->

    <style>
        body {
            background: #f4f4f4;
        }

        /* MENU LATERAL */
        #sidebar {
            width: 250px;
            height: 100vh;
            position: fixed;
            background: #1d2b3a;
            color: #fff;
            padding: 20px 0;
            top: 0;
            left: 0;
            transition: left 0.3s ease-in-out;
            z-index: 999;
        }

        #sidebar a {
            color: #dcdcdc;
            text-decoration: none;
            padding: 12px 20px;
            display: block;
            font-size: 16px;
        }

        #sidebar a:hover {
            background: #0e151d;
            color: #fff;
        }

        #sidebar h2 {
            text-align: center;
            margin-bottom: 20px;
        }

        /* CONTE√öDO */
        #content {
            margin-left: 260px;
            padding: 20px;
            transition: margin-left 0.3s ease-in-out;
        }

        /* BOT√ÉO HAMB√öRGUER (APARECE SOMENTE NO MOBILE) */
        #btnMenu {
            display: none;
        }

        @media(max-width: 768px) {
            #sidebar {
                left: -260px;
            }

            #sidebar.sidebar-open {
                left: 0;
            }

            #content {
                margin-left: 0 !important;
            }

            #btnMenu {
                display: block;
                position: fixed;
                top: 15px;
                left: 15px;
                z-index: 1000;
            }
        }

        /* Upload box style */
        .upload-box {
            border: 2px dashed #0d6efd;
            border-radius: 8px;
            padding: 18px;
            background: #fbfdff;
            min-height: 170px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 6px 18px rgba(13, 110, 253, 0.06);
        }

        .upload-box img.preview {
            max-width: 100%;
            max-height: 120px;
            object-fit: contain;
            margin-bottom: 10px;
        }

        .upload-label {
            cursor: pointer;
            color: #0d6efd;
            font-weight: 600;
        }

        /* Buttons spacing */
        .form-actions .btn {
            min-width: 100px;
        }

        /* Small visual tweak for table on products list */
        .table-actions button {
            margin-right: 6px;
        }
    </style>
</head>

<body>

    <!-- BOT√ÉO HAMB√öRGUER -->
    <button class="btn btn-dark" style="height: 40px;width: 40px;" id="btnMenu" onclick="toggleMenu()"> ‚ò∞ </button>

    <!-- MENU LATERAL -->
    <div id="sidebar">
        <h2>Horus</h2>
        <a href="#" onclick="openPage('dashboard')">üìä Dashboard</a>
        <a href="#" onclick="openPage('venda')">üõí Vendas</a>
        <a href="#" onclick="openPage('produtos')">üì¶ Produtos</a>
        <a href="#" onclick="openPage('parceiros')">üë• Parceiros</a>
        <a href="#" onclick="openPage('financeiro')">üí∞ Financeiro</a>
        <a href="#" onclick="openPage('config')">‚öôÔ∏è Configura√ß√µes</a>
        <a href="#" onclick="openPage('relatorios')">üìÑ Relat√≥rios</a>
        <a href="#">üö™ Sair</a>
    </div>

    <!-- √ÅREA PRINCIPAL -->
    <div id="content">

        <!-- PRODUTOS -->
        <div id="produtos" class="page" style="display:none;">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h3>üì¶ Produtos</h3>
                <div>
                    <button class="btn btn-success" onclick="mostrarFormularioProduto()">‚ûï Adicionar Produto</button>
                </div>
            </div>

            <!-- LISTA DE PRODUTOS (vis√≠vel por padr√£o) -->
            <div id="listaProdutos">
                <!-- Filtros / a√ß√µes (exemplo parecido com sua imagem) -->
                <div class="card mb-3 p-3">
                    <div class="d-flex gap-2 mb-3 flex-wrap">
                        <button class="btn btn-secondary ">üîç Filtro</button>
                        <button class="btn btn-primary">‚¨á Export</button>
                        <button class="btn btn-danger">üóë Excluir</button>
                               <button id="configColProdutos" class="btn btn-primary d-none d-md-block">
                            Configurar colunas
                        </button>
                    </div>

                    <div class="row g-2">
                        <div class="col-md-4">
                            <label for="PesquisaProduto">Pesquise por um termo</label>
                            <input type="text" class="form-control" id="PesquisaProduto"
                                placeholder="Pesquise por um termo do seu produto">
                        </div>
                    </div>
                </div>

                                <!-- Modal para configurar colunas dos produtos -->
                <div class="modal fade" id="modalConfigColunasProdutos" tabindex="-1">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Selecionar colunas</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>

                            <div class="modal-body">
                                <!-- Aqui os checkboxes das colunas -->
                                <div id="listaColunasProdutos"></div>
                            </div>

                            <div class="modal-footer">
                                <button class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                                <button class="btn btn-primary" id="salvarColunasProdutos">Salvar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- TABELA ‚Äî aparece apenas em md, lg e xl -->
                <div class="table-responsive d-none d-md-block" id="TabelaProdutos">
                    <table class="table align-middle">
                        <thead class="table-light">
                            <tr>
                                <th style="width:40px;"><input type="checkbox"></th>
                                <th>C√≥digo</th>
                                <th>Nome</th>
                                <th>Estoque</th>
                                <th>Pre√ßo</th>
                                <th>Tipo</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="checkbox"></td>
                                <td>001</td>
                                <td>Produto B</td>
                                <td>120</td>
                                <td>15,00</td>
                                <td>15/10/25</td>
                            </tr>
                            <tr>
                                <td><input type="checkbox"></td>
                                <td>003</td>
                                <td>Produto A</td>
                                <td>120</td>
                                <td>2,00</td>
                                <td>10/11/25</td>
                            </tr>
                            <tr>
                                <td><input type="checkbox"></td>
                                <td>002</td>
                                <td>Produto A</td>
                                <td>120</td>
                                <td>45,00</td>
                                <td>15/11/26</td>
                            </tr>
                            <tr>
                                <td><input type="checkbox"></td>
                                <td>001</td>
                                <td>CAFE COM LEITE</td>
                                <td>120</td>
                                <td>45,00</td>
                                <td>15/11/25</td>
                            </tr>
                            <tr>
                                <td><input type="checkbox"></td>
                                <td>001</td>
                                <td>Produto A</td>
                                <td>120</td>
                                <td>R$ 45,00</td>
                                <td>15/12/27</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- CARD ‚Äî aparece apenas em telas pequenas -->
                <div class="d-block d-md-none">
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Produto A</h5>

                            <p class="mb-1"><strong>C√≥digo:</strong> 001</p>
                            <p class="mb-1"><strong>Estoque:</strong> 120</p>
                            <p class="mb-1"><strong>Pre√ßo:</strong> R$ 45,00</p>
                            <p class="mb-2"><strong>Tipo:</strong> Produto</p>

                        </div>
                    </div>
                </div>

            </div>


            <!-- FORMUL√ÅRIO DE PRODUTO (inicialmente escondido) -->
            <div id="formProduto" class="card shadow-sm p-4" style="display:none;">
                <h4 class="mb-3">Cadastro de Produto</h4>
                <form id="produtoForm">
                    <div class="row g-3">
                        <!-- Coluna 1 -->
                        <div class="col-lg-4 col-md-6">
                            <label class="form-label">Nome</label>
                            <input type="text" id="p_nome" class="form-control" placeholder="Nome">

                            <label class="form-label mt-1">Estoque</label>
                            <input type="number" id="p_estoque" class="form-control" placeholder="Estoque">

                            <label class="form-label mt-1">Pre√ßo venda</label>
                            <input type="text" id="p_preco_venda" class="form-control" placeholder="Pre√ßo venda">

                            <label class="form-label mt-1">Pre√ßo custo</label>
                            <input type="text" id="p_preco_custo" class="form-control" placeholder="Pre√ßo custo">

                        </div>

                        <!-- Coluna 2 -->
                        <div class="col-lg-4 col-md-6">
                            <label class="form-label">Status</label>
                            <select id="p_status" class="form-select">
                                <option selected>Ativo</option>
                                <option>Inativo</option>
                            </select>

                            <label class="form-label mt-1">Unidade</label>
                            <select name="" id="Unidade" class="form-control">
                                <option value="UN">Unidade</option>
                                <option value="m">Metro (m)</option>
                                <option value="cm">Cent√≠metro (cm)</option>
                                <option value="mm">Mil√≠metro (mm)</option>
                                <option value="kg">Quilograma (kg)</option>
                                <option value="g">Grama (g)</option>
                                <option value="L">Litro (L)</option>
                                <option value="mL">Mililitro (mL)</option>
                                <option value="m¬≤">Metro Quadrado (m¬≤)</option>
                                <option value="cm¬≤">Cent√≠metro Quadrado (cm¬≤)</option>
                                <option value="pc">Pe√ßa (pc)</option>
                                <option value="cx">Caixa (cx)</option>
                                <option value="fd">Fardo (fd)</option>
                                <option value="sc">Saco (sc)</option>
                                <option value="mc">Ma√ßo (mc)</option>
                            </select>
                            <label class="form-label mt-1">C√≥digo de barras 1</label>
                            <input type="text" id="CodigoBarra1" class="form-control" placeholder="Codigo de barras 1">

                            <label class="form-label mt-1">C√≥digo de barras 2</label>
                            <input type="text" id="CodigoBarra2" class="form-control" placeholder="Codigo de barras 2">

                            <label class="form-label mt-1">C√≥digo de barras 3</label>
                            <input type="text" id="CodigoBarra13" class="form-control" placeholder="Codigo de barras 3">
                        </div>

                        <!-- Coluna 3 (upload) -->
                        <div class="col-lg-4 col-md-12 d-flex flex-column align-items-stretch">
                            <label class="form-label">Imagem do produto</label>

                            <div class="upload-box mb-2" id="produtoUploadBox">
                                <img src="" alt="preview" class="preview d-none" id="produtoPreview">
                                <div class="upload-infos">
                                    <div style="font-size:28px;">‚òÅÔ∏è</div>
                                    <div class="mt-2 upload-label"
                                        onclick="document.getElementById('produtoFile').click()">Browse File to upload!
                                    </div>
                                </div>
                            </div>

                            <input type="file" id="produtoFile" accept="image/*" class="d-none">
                            <div class="small text-muted mb-3" id="produtoFileName">Nenhuma imagem selecionada</div>

                            <div class="form-actions gap-2">
                                <button type="button" class="btn btn-success" onclick="salvarProduto()">Salvar</button>
                                <button type="button" class="btn btn-secondary"
                                    onclick="fecharFormularioProduto()">Cancelar</button>
                            </div>
                        </div>

                    </div>
                </form>
            </div>
        </div>

        <!-- PARCEIROS -->
        <div id="parceiros" class="page" style="display:none;">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h3>üë• Parceiros</h3>
                <div>
                    <button class="btn btn-success" onclick="mostrarFormularioParceiro()">‚ûï Adicionar Parceiro</button>
                </div>
            </div>
            <div id="listaParceiros">
                <div class="card mb-3 p-3">
                    <div class="d-flex gap-2 mb-3 flex-wrap">
                        <button class="btn btn-secondary">üîç Filtro</button>
                        <button class="btn btn-primary">‚¨á Export</button>
                        <button class="btn btn-danger">üóë Excluir</button>
                        <button id="configColparceiros" class="btn btn-primary d-none d-md-block">
                            Configurar colunas
                        </button>


                    </div>

                    <div class="row g-2">
                        <div class="col-md-4">
                            <label for="PesquisaParceiro">Pesquise por um termo</label>
                            <input type="text" class="form-control" id="PesquisaParceiro"
                                placeholder="Pesquise por um termo do seu parceiro">
                        </div>
                    </div>
                </div>

                <!-- Modal para configurar coluans dos parceiros -->
                <div class="modal fade" id="modalConfigColunas" tabindex="-1">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Selecionar colunas</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>

                            <div class="modal-body">
                                <!-- Aqui os checkboxes das colunas -->
                                <div id="listaColunas"></div>
                            </div>

                            <div class="modal-footer">
                                <button class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                                <button class="btn btn-primary" id="salvarColunas">Salvar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- TABELA DE PARCEIROS‚Äî aparece apenas em md, lg e xl -->
                <div class="table-responsive d-none d-md-block" id="TabelaParceiros">
                    <table class="table align-middle">
                        <thead class="table-light">
                            <tr>
                                <th style="width:30px;"><input type="checkbox"></th>
                                <th>C√≥digo</th>
                                <th>Raz√£o social</th>
                                <th>Fantasia</th>
                                <th>CPF/CNPJ</th>
                                <th>Inscri√ß√£o / RG</th>
                                <th>UF</th>
                                <th>Cidade</th>
                                <th>Tipo</th>
                                <th>Status</th>
                                <th>Total compra</th>
                                <th>M√©dia compra</th>
                                <th>Ultima compra</th>
                                <th>Primeira compra</th>
                                <th>Dt. cadastro</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="checkbox"></td>
                                <td>001</td>
                                <td>Produto A</td>
                                <td>120</td>
                                <td>R$ 45,00</td>
                                <td>TETST</td>
                                <td>ProFEWFSDSDFSduto</td>
                                <td>ProFEWFSDSDFSduto</td>
                                <td>ProdDSFDSFuto</td>
                                <td>ProFSDFSDFFDFSDFSduto</td>
                                <td>FDWFD</td>
                                <td>ProdFDFuto</td>
                                <td>ProdFDFuFFFFFto</td>
                                <td>ProdFDFuto</td>
                                <td>ProdFDFuFFFWDto</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- CARD ‚Äî aparece apenas em telas pequenas -->
                <div class="d-block d-md-none">
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Cliente A</h5>

                            <p class="mb-1"><strong>C√≥digo:</strong> 001</p>
                            <p class="mb-1"><strong>Estoque:</strong> 120</p>
                            <p class="mb-1"><strong>Pre√ßo:</strong> R$ 45,00</p>
                            <p class="mb-2"><strong>Tipo:</strong> Produto</p>

                        </div>
                    </div>
                </div>
            </div>
            <div>
            </div>
            <div id="formParceiro" class="card shadow-sm p-4" style="display:none;">
                <h4 class="mb-4">Cadastro de Parceiro</h4>
                <form class="row g-3">
                    <div class="col-md-4">
                        <label class="form-label">Nome</label>
                        <input type="text" class="form-control" placeholder="Nome">
                        <label class="form-label mt-1">Raz√£o social</label>
                        <input type="text" class="form-control" placeholder="Raz√£o social">
                        <label class="form-label mt-1">CPF / CNPJ</label>
                        <input type="text" class="form-control" placeholder="00.000.000/0000-00">
                        <label class="form-label mt-1">RG / INSCRI√á√ÉO ESTADUAL</label>
                        <input type="text" class="form-control" placeholder="RG / IE">
                        <label class="form-label mt-1">Tipo de cadastro</label>
                        <select name="TIPO_CADASTRO" class="form-control TddCam">
                            <option value="C">Cliente</option>
                            <option value="F">Fornecedor</option>
                            <option value="CF">Cliente / Fornecedor</option>
                            <option value="R">Representante</option>
                        </select>
                        <label class="form-label mt-1">Email</label>
                        <input type="email" class="form-control" placeholder="exemplo@email">
                        <label class="form-label mt-1">Email</label>
                        <input type="email" class="form-control" placeholder="exemplo@email">
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">CEP</label>
                        <input type="text" class="form-control" placeholder="00000000">
                        <label class="form-label mt-1">UF</label>
                        <select class="form-select">
                            <option selected>Selecione</option>
                            <option>AC</option>
                            <option>AL</option>
                            <option>AP</option>
                            <option>AM</option>
                            <option>BA</option>
                            <option>CE</option>
                            <option>DF</option>
                            <option>ES</option>
                            <option>GO</option>
                            <option>MA</option>
                            <option>MT</option>
                            <option>MS</option>
                            <option>MG</option>
                            <option>PA</option>
                            <option>PB</option>
                            <option>PR</option>
                            <option>PE</option>
                            <option>PI</option>
                            <option>RJ</option>
                            <option>RN</option>
                            <option>RS</option>
                            <option>RO</option>
                            <option>RR</option>
                            <option>SC</option>
                            <option>SP</option>
                            <option>SE</option>
                            <option>TO</option>
                        </select>
                        <label class="form-label mt-1">Cidade</label>
                        <input type="text" class="form-control" placeholder="Cidade">
                        <label class="form-label mt-1">Logradouro</label>
                        <input type="text" class="form-control" placeholder="Logradouro">
                        <label class="form-label mt-1">Complemento</label>
                        <input type="text" class="form-control" placeholder="Complemento">
                        <label class="form-label mt-1">Bairro</label>
                        <input type="text" class="form-control" placeholder="Bairro">
                        <label class="form-label mt-1">Observa√ß√£o</label>
                        <textarea class="form-control" rows="3"></textarea>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Status</label>
                        <input type="text" class="form-control" value="Ativo">

                        <label class="form-label mt-1">Telefone</label>
                        <input type="text" class="form-control" placeholder="(XX) XXXXX-XXXX">
                        <label class="form-label mt-1">Telefone</label>
                        <input type="text" class="form-control" placeholder="(XX) XXXXX-XXXX">

                        <label class="form-label">Data cadastro</label>
                        <input type="text" class="form-control" disabled>
                        <label class="form-label mt-1">Usu√°rio cadastro</label>
                        <input type="text" class="form-control" disabled>
                        <label class="form-label mt-1">Data altera√ß√£o</label>
                        <input type="text" class="form-control" disabled>
                        <label class="form-label mt-1">Usu√°rio altera√ß√£o</label>
                        <input type="text" class="form-control" disabled>
                    </div>

                </form>

                <div class="form-actions gap-2 mt-2">
                    <button type="button" class="btn btn-success" onclick="salvarProduto()">Salvar</button>
                    <button type="button" class="btn btn-secondary"
                        onclick="fecharFormularioParceiro()">Cancelar</button>
                </div>
            </div>

        </div>

        <div id="financeiro" class="page" style="display:none;">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h3>üí∞ Financeiro</h3>
                <div><button class="btn btn-success" onclick="mostrarFormularioFinanceiro()">‚ûï Adicionar
                        Movimento</button></div>
            </div>

                                  <!-- Modal para configurar colunas dos do fiannceiro -->
                <div class="modal fade" id="modalConfigColunasFinanceiro" tabindex="-1">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Selecionar colunas</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>

                            <div class="modal-body">
                                <!-- Aqui os checkboxes das colunas -->
                                <div id="listaColunasFinanceiro"></div>
                            </div>

                            <div class="modal-footer">
                                <button class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                                <button class="btn btn-primary" id="salvarColunasFinanceiro">Salvar</button>
                            </div>
                        </div>
                    </div>
                </div>

            <!-- LISTA DE FINANCEIRO (vis√≠vel por padr√£o) -->
            <div id="listaFinanceiro">
                <!-- Filtros / a√ß√µes (exemplo parecido com sua imagem) -->
                <div class="card mb-3 p-3">
                    <div class="d-flex gap-2 mb-3 flex-wrap">
                        <button class="btn btn-secondary ">üîç Filtro</button>
                        <button class="btn btn-primary">‚¨á Export</button>
                        <button class="btn btn-danger">üóë Excluir</button>
                        <button id="configColFinanceiro" class="btn btn-primary d-none d-md-block">
                            Configurar colunas
                        </button>
                    </div>

                    <div class="row g-2">
                        <div class="col-md-3">
                            <label for="Pesquisaparceiro">Pesquise por um termo</label>
                            <input type="text" placeholder="Pesquise por um termo" class="form-control">

                            <label for="Tipo">Tipo</label>
                            <select class="form-select">
                                <option>Todos Tipos</option>
                                <option>Receber</option>
                                <option>Pagar</option>
                            </select>

                        </div>
                        <div class="col-md-3">
                            <label for="">Status</label>
                            <select class="form-select">
                                <option>Todos Status</option>
                                <option>Ativo</option>
                                <option>Inativo</option>
                            </select>
                            <label for="TipoParceiro">Tipo de parceiro</label>
                            <select name="TIPO_CADASTRO" class="form-control TddCam">
                                <option value="C">Cliente</option>
                                <option value="F">Fornecedor</option>
                                <option value="CF">Cliente / Fornecedor</option>
                                <option value="R">Representante</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <label>Cadastro In√≠cio</label>
                            <input type="date" class="form-control form-control-sm">
                            <label>Cadastro Fim</label>
                            <input type="date" class="form-control form-control-sm">
                        </div>
                        <div class="col-md-3">
                            <label>Vencimento In√≠cio</label>
                            <input type="date" class="form-control form-control-sm">
                            <label>Vencimento Fim</label>
                            <input type="date" class="form-control form-control-sm">
                        </div>
                    </div>
                </div>

                <!-- TABELA ‚Äî aparece apenas em md, lg e xl -->
                <div class="table-responsive d-none d-md-block" id="TabelaFinanceiro">
                    <table class="table align-middle">
                        <thead class="table-light">
                            <tr>
                                <th style="width:40px;"><input type="checkbox"></th>
                                <th>C√≥digo</th>
                                <th>Fantasia</th>
                                <th>Documento</th>
                                <th>Tipo</th>
                                <th>Status</th>
                                <th>Valor</th>
                                <th>Vencimento</th>
                                <th>Cadastro</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="checkbox"></td>
                                <td>001</td>
                                <td>Produto A</td>
                                <td>120</td>
                                <td>R$ 45,00</td>
                                <td>Produto</td>
                                <td>15,25</td>                                <td>Produto</td>
                                <td>15/10/2025</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- CARD ‚Äî aparece apenas em telas pequenas -->
                <div class="d-block d-md-none">
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Financeiro A</h5>

                            <p class="mb-1"><strong>C√≥digo:</strong> 001</p>
                            <p class="mb-1"><strong>Pre√ßo:</strong> R$ 45,00</p>
                            <p class="mb-2"><strong>Tipo:</strong> Receber</p>

                        </div>
                    </div>
                </div>

            </div>


            <!-- FORMUL√ÅRIO DE PRODUTO (inicialmente escondido) -->
            <div id="formFinanceiro" class="card shadow-sm p-4" style="display:none;">
                <h4 class="mb-3">Cadastro de Produto</h4>
                <form id="financeiroForm">
                    <div class="row g-3">
                        <!-- Coluna 1 -->
                        <div class="col-lg-4 col-md-6">
                            <label class="form-label">Nome</label>
                            <input type="text" id="NomeProduto" class="form-control" placeholder="Nome">
                            <label class="form-label">Estoque</label>
                            <input type="text" id="Estoque" class="form-control" placeholder="Nome">
                            <label class="form-label">Pre√ßo venda</label>
                            <input type="text" id="PrecoVenda" class="form-control" placeholder="Nome">
                            <label class="form-label">Pre√ßo custo</label>
                            <input type="text" id="PrecoCusto" class="form-control" placeholder="Nome">
                        </div>

                        <!-- Coluna 2 -->
                        <div class="col-lg-4 col-md-6">
                            <label class="form-label">Status</label>
                            <select id="StatusProduto" class="form-select">
                                <option checked value="A">Ativo</option>
                                <option value="I">Inativo</option>
                            </select>

                        </div>

                        <!-- Coluna 3 (upload) -->
                        <div class="col-lg-4 col-md-12 d-flex flex-column align-items-stretch">

                        </div>
                        <div class="form-actions gap-2">
                            <button type="button" class="btn btn-success" onclick="salvarProduto()">Salvar</button>
                            <button type="button" class="btn btn-secondary"
                                onclick="fecharFormularioFinanceiro()">Cancelar</button>
                        </div>
                    </div>

            </div>
            </form>
        </div>
        <div id="venda" class="page" style="display:none;">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h3>üõí Vendas</h3>
                <div><button class="btn btn-success" onclick="mostrarFormularioVenda()">‚ûï Adicionar
                        Movimento</button></div>
            </div>


            
                                <!-- Modal para configurar colunas dos produtos -->
                <div class="modal fade" id="modalConfigColunasVenda" tabindex="-1">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Selecionar colunas</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>

                            <div class="modal-body">
                                <!-- Aqui os checkboxes das colunas -->
                                <div id="listaColunasVenda"></div>
                            </div>

                            <div class="modal-footer">
                                <button class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                                <button class="btn btn-primary" id="salvarColunasVenda">Salvar</button>
                            </div>
                        </div>
                    </div>
                </div>

            <!-- LISTA DE VENDAS (vis√≠vel por padr√£o) -->
            <div id="listaVenda">
                <!-- Filtros / a√ß√µes (exemplo parecido com sua imagem) -->
                <div class="card mb-3 p-3">
                    <div class="d-flex gap-2 mb-3 flex-wrap">
                        <button class="btn btn-secondary ">üîç Filtro</button>
                        <button class="btn btn-primary">‚¨á Export</button>
                        <button class="btn btn-danger">üóë Excluir</button>
                               <button id="configColVenda" class="btn btn-primary d-none d-md-block">
                            Configurar colunas
                        </button>
                    </div>

                    <div class="row g-2">
                        <div class="col-md-3">
                            <label for="">Pesquise por um termo</label>
                            <input type="text" class="form-control" placeholder="Pesquise por um termo">
                            <label for="StatusVenda">Status</label>
                            <select class="form-select">
                                <option>Todos Status</option>
                                <option>Or√ßamento</option>
                                <option>Pedido</option>
                                <option>Cancelado</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <label for="">Cadastro inicio</label>
                            <input type="date" class="form-control" placeholder="Cadastro In√≠cio">
                            <label for="">Cadastro Fim</label>
                            <input type="date" class="form-control" placeholder="Cadastro Fim">
                        </div>
                        <div class="col-md-3">
                            <label for="">Cancelamento inicio</label>
                            <input type="date" class="form-control" placeholder="Cadastro In√≠cio">
                            <label for="">Cancelamento Fim</label>
                            <input type="date" class="form-control" placeholder="Cadastro Fim">
                        </div>
                    </div>
                </div>

                <!-- TABELA ‚Äî aparece apenas em md, lg e xl -->
                <div class="table-responsive d-none d-md-block" id="TabelaVenda">
                    <table class="table align-middle">
                        <thead class="table-light">
                            <tr>
                                <th style="width:40px;"><input type="checkbox"></th>
                                <th>C√≥digo</th>
                                <th>Fantasia</th>
                                <th>Valor</th>
                                <th>Status</th>
                                <th>Dt. Venda</th>
                                <th>Usu√°rio</th>
                                <th>Vlr. Desconto</th>
                                <th>Cod. cliente</th>
                                <th>Raz√£o social</th>
                                <th>Dt. Cancelamento</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="checkbox"></td>
                                <td>001</td>
                                <td>JOAO NETO</td>
                                <td>120,23</td>
                                <td>Or√ßamento</td>
                                <td>10/10/2025</td>
                                <td>fabricio</td>
                                <td>10,36</td>
                                <td>155</td>
                                <td>joao neto silva</td>
                                <td>10/15/2024</td>
                            </tr>
                            <tr>
                                <td><input type="checkbox"></td>
                                <td>002</td>
                                <td>Maria de fatima</td>
                                <td>120,23</td>
                                <td>Pedido</td>
                                <td>01/10/2025</td>
                                <td>maria</td>
                                <td>0,36</td>
                                <td>155</td>
                                <td>Maria de fatima batista</td>
                                <td>10/07/2025</td>
                            </tr>
                            <tr>
                                <td><input type="checkbox"></td>
                                <td>003</td>
                                <td>JACKSON SILVA NETO</td>
                                <td>120,23</td>
                                <td>Or√ßamento</td>
                                <td>10/04/2025</td>
                                <td>fabricio</td>
                                <td>1,14</td>
                                <td>195</td>
                                <td>JACKSON SILVA</td>
                                <td>10/15/2024</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- CARD ‚Äî aparece apenas em telas pequenas -->
                <div class="d-block d-md-none">
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Venda para cliente A</h5>

                            <p class="mb-1"><strong>C√≥digo:</strong> 001</p>
                            <p class="mb-1"><strong>Pre√ßo:</strong> R$ 45,00</p>
                            <p class="mb-2"><strong>Tipo:</strong> Produto</p>

                        </div>
                    </div>
                </div>

            </div>


            <!-- FORMUL√ÅRIO DE VENDAS (inicialmente escondido) -->
            <div id="formVenda" class="card shadow-sm p-4" style="display:none;">
                <h4 class="mb-3">Cadastro de Produto</h4>
                <form id="vendaForm">
                    <div class="row g-3">
                        <!-- Coluna 1 -->
                        <div class="col-lg-4 col-md-6">
                            <label class="form-label">Nome</label>
                            <input type="text" id="p_nome" class="form-control" placeholder="Nome">
                        </div>

                        <!-- Coluna 2 -->
                        <div class="col-lg-4 col-md-6">
                            <label class="form-label">Status</label>
                            <select id="p_status" class="form-select">
                                <option selected>Ativo</option>
                                <option>Inativo</option>
                            </select>
                        </div>

                        <!-- Coluna 3 (upload) -->
                        <div class="col-lg-4 col-md-12 d-flex flex-column align-items-stretch">
                            <label class="form-label">Imagem do produto</label>
                        </div>
                        <div class="form-actions gap-2">
                            <button type="button" class="btn btn-success" onclick="salvarProduto()">Salvar</button>
                            <button type="button" class="btn btn-secondary"
                                onclick="fecharFormularioVenda()">Cancelar</button>
                        </div>
                    </div>

            </div>
            </form>
        </div>






        <!-- CONFIGURA√á√ïES -->
        <div id="config" class="page" style="display:none;">
            <h3>‚öôÔ∏è Configura√ß√µes</h3>
            <p>Configura√ß√µes gerais...</p>
        </div>

        <!-- RELAT√ìRIOS -->
        <div id="relatorios" class="page" style="display:none;">
            <h3>üìÑ Relat√≥rios</h3>
            <p>Selecione relat√≥rios para gerar...</p>
        </div>

    </div>
    <!-- VENDAS -->
    <div id="vendas" class="page" style="display:none;">
        <h3>üõí Vendas</h3>
        <button class="btn btn-success mb-3" onclick="abrirCadastro('Cadastro de Venda')">‚ûï Nova Venda</button>
        <p>Listagem de vendas...</p>
    </div>

    </div>

    <!-- MODAL PADR√ÉO (mantido caso queira usar) -->
    <div class="modal fade" id="modalCadastro" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="tituloModal">Novo Registro</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="formCadastro">
                        <div class="mb-3"><label class="form-label">Nome</label><input type="text" class="form-control"
                                required></div>
                        <div class="mb-3"><label class="form-label">Descri√ß√£o</label><input type="text"
                                class="form-control"></div>
                        <div class="mb-3"><label class="form-label">Valor</label><input type="number"
                                class="form-control"></div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button class="btn btn-primary" id="btnSalvar">Salvar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script>
        // Navega√ß√£o entre p√°ginas
        function openPage(pageName) {
            let pages = document.querySelectorAll('.page');
            pages.forEach(p => p.style.display = 'none');
            document.getElementById(pageName).style.display = 'block';
            // close sidebar on mobile after nav
            if (window.innerWidth <= 768) {
                document.getElementById('sidebar').classList.remove('sidebar-open');
            }
        }

        // Toggle sidebar mobile
        function toggleMenu() {
            let sidebar = document.getElementById("sidebar");
            sidebar.classList.toggle("sidebar-open");
        }

        // ========== Produtos: mostrar/ocultar formul√°rio ==========
        function mostrarFormularioProduto() {
            document.getElementById('listaProdutos').style.display = 'none';
            document.getElementById('formProduto').style.display = 'block';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        function fecharFormularioProduto() {
            document.getElementById('formProduto').style.display = 'none';
            document.getElementById('listaProdutos').style.display = 'block';
        }
        // ========== Vendas: mostrar/ocultar formul√°rio ==========
        function mostrarFormularioVenda() {
            document.getElementById('listaVenda').style.display = 'none';
            document.getElementById('formVenda').style.display = 'block';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ========== Parceiros: mostrar/ocultar formul√°rio ==========
        function mostrarFormularioParceiro() {
            document.getElementById('listaparceiros').style.display = 'none';
            document.getElementById('formParceiro').style.display = 'block';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        function fecharFormularioParceiro() {
            document.getElementById('formParceiro').style.display = 'none';
            document.getElementById('listaParceiros').style.display = 'block';
        }
        function fecharFormularioVenda() {
            document.getElementById('formVenda').style.display = 'none';
            document.getElementById('listaVenda').style.display = 'block';
        }

        // Exemplo simples de salvar (substituir por chamada real)
        function salvarProduto() {
            // aqui voc√™ pode coletar valores e enviar via fetch/ajax
            const nome = document.getElementById('p_nome').value;
            if (!nome) { alert('Preencha o nome do produto'); return; }
            alert('Produto salvo: ' + nome);
            // ap√≥s salvar, limpar e voltar pra lista
            document.getElementById('produtoForm').reset();
            document.getElementById('produtoPreview').src = '';
            document.getElementById('produtoPreview').classList.add('d-none');
            document.getElementById('produtoFileName').innerText = 'Nenhuma imagem selecionada';
            fecharFormularioProduto();
        }

        function excluirProdutoForm() {
            if (confirm('Deseja realmente excluir este produto (apenas local)?')) {
                // a√ß√£o de exclus√£o
                alert('Produto exclu√≠do');
                document.getElementById('produtoForm').reset();
                fecharFormularioProduto();
            }
        }

        function editarProduto(id) {
            // aqui voc√™ pode carregar os dados do produto e abrir o form
            mostrarFormularioProduto();
            // exemplo: preencher alguns campos (substituir por fetch)
            document.getElementById('p_nome').value = 'Produto ' + id;
        }

        function excluirParceiroform() {
            if (confirm('Deseja realmente excluir este produto (apenas local)?')) {
                // a√ß√£o de exclus√£o
                alert('Produto exclu√≠do');
                document.getElementById('produtoForm').reset();
                fecharFormularioProduto();
            }
        }

        function editarParceiro(id) {
            // aqui voc√™ pode carregar os dados do produto e abrir o form
            mostrarFormularioProduto();
            // exemplo: preencher alguns campos (substituir por fetch)
            document.getElementById('p_nome').value = 'Produto ' + id;
        }


        // ========== Upload com preview (Produtos) ==========
        const produtoFile = document.getElementById('produtoFile');
        const produtoPreview = document.getElementById('produtoPreview');
        const produtoFileName = document.getElementById('produtoFileName');

        if (produtoFile) {
            produtoFile.addEventListener('change', function (e) {
                const file = e.target.files[0];
                if (!file) {
                    produtoPreview.src = '';
                    produtoPreview.classList.add('d-none');
                    produtoFileName.innerText = 'Nenhuma imagem selecionada';
                    return;
                }
                produtoFileName.innerText = file.name;
                const reader = new FileReader();
                reader.onload = function (ev) {
                    produtoPreview.src = ev.target.result;
                    produtoPreview.classList.remove('d-none');
                }
                reader.readAsDataURL(file);
            });
        }

        // ========== Parceiros: mostrar/ocultar ==========
        function mostrarFormularioParceiro() {
            document.getElementById("listaParceiros").style.display = "none"; // ID corrigido
            document.getElementById("formParceiro").style.display = "block";
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function fecharFormularioParceiro() {
            document.getElementById("listaParceiros").style.display = "block"; // ID corrigido
            document.getElementById("formParceiro").style.display = "none";
        }


        // ========== Financeiro: mostrar/ocultar ==========
        function mostrarFormularioFinanceiro() {
            document.getElementById("listaFinanceiro").style.display = "none";
            document.getElementById("formFinanceiro").style.display = "block";
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        function fecharFormularioFinanceiro() {
            document.getElementById("formFinanceiro").style.display = "none";
            document.getElementById("listaFinanceiro").style.display = "block";
        }
        function salvarFinanceiro() {
            alert('Movimento salvo (demo).');
            fecharFormularioFinanceiro();
        }

        // Modal padr√£o (se quiser usar)
        function abrirCadastro(titulo) {
            document.getElementById("tituloModal").innerText = titulo;
            var modal = new bootstrap.Modal(document.getElementById('modalCadastro'));
            modal.show();
        }
        document.getElementById && document.getElementById("btnSalvar") && document.getElementById("btnSalvar").addEventListener("click", function () {
            alert("Registro salvo com sucesso!");
            document.getElementById("formCadastro").reset();
        });

        // Inicializa com dashboard vis√≠vel
        // //  openPage('dashboard');

        // // ========== GR√ÅFICOS ==========
        // new Chart(document.getElementById('grafVendas'), {
        //     type: 'line',
        //     data: {
        //         labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun'],
        //         datasets: [{
        //             label: 'Vendas (R$)',
        //             data: [12000, 8000, 15000, 17000, 14000, 20000],
        //             borderWidth: 3,
        //             borderColor: '#0d6efd',
        //             backgroundColor: 'rgba(13,110,253,0.07)',
        //             fill: true
        //         }]
        //     },
        //     options: { responsive: true, maintainAspectRatio: false }
        // });

        // new Chart(document.getElementById('grafEstoque'), {
        //     type: 'bar',
        //     data: {
        //         labels: ['Bebidas', 'Frutas', 'Carnes', 'Padaria'],
        //         datasets: [{ label: 'Itens em Estoque', data: [120, 80, 40, 65], backgroundColor: ['#20c997', '#198754', '#0dcaf0', '#ffc107'] }]
        //     },
        //     options: { responsive: true, maintainAspectRatio: false }
        // });

        // new Chart(document.getElementById('grafFinanceiro'), {
        //     type: 'bar',
        //     data: {
        //         labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun'],
        //         datasets: [
        //             { label: 'Receita', data: [20000, 18000, 25000, 23000, 30000, 35000], backgroundColor: '#0d6efd' },
        //             { label: 'Despesas', data: [15000, 12000, 18000, 16000, 20000, 21000], backgroundColor: '#dc3545' }
        //         ]
        //     },
        //     options: { responsive: true, maintainAspectRatio: false }
        // });
    </script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>
<!-- Colunas vendas -->
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const tabela = document.querySelector("#TabelaParceiros table");
        const ths = tabela.querySelectorAll("thead th");
        const listaColunas = document.querySelector("#listaColunas");
        const btnSalvar = document.querySelector("#salvarColunas");

        // Criar checkboxes das colunas
        ths.forEach((th, index) => {
            if (index === 0) return; // Ignorar checkbox da primeira coluna

            const colName = th.innerText.trim();
            const id = "coluna_" + index;

            // Apenas as 4 primeiras colunas selecionadas
            const checked = index <= 4 ? "checked" : "";

            listaColunas.innerHTML += `
        <div class="form-check">
            <input class="form-check-input colunaCheck" type="checkbox" 
                id="${id}" data-col="${index}" ${checked}>
            <label class="form-check-label" for="${id}">
                ${colName}
            </label>
        </div>
    `;
        });


        // Fun√ß√£o mostrar/esconder colunas
        function atualizarColunas() {
            document.querySelectorAll(".colunaCheck").forEach(chk => {
                const colIndex = Number(chk.dataset.col);

                // Seleciona todas as c√©lulas da coluna (th e td)
                const colunas = tabela.querySelectorAll(
                    `thead th:nth-child(${colIndex + 1}),
                 tbody td:nth-child(${colIndex + 1})`
                );

                colunas.forEach(cell => {
                    cell.style.display = chk.checked ? "" : "none";
                });
            });
        }

        // Evento de salvar
        btnSalvar.addEventListener("click", () => {
            atualizarColunas();
        });

        // Abrir modal
        document.querySelector("#configColparceiros").addEventListener("click", () => {
            const modal = new bootstrap.Modal(document.getElementById("modalConfigColunas"));
            modal.show();
        });

        // Aplica imediatamente as colunas padr√£o ao carregar
        setTimeout(() => {
            atualizarColunas();
        }, 50);

    });
</script>

<!-- Colunas produtos -->
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const tabela = document.querySelector("#TabelaProdutos table");
        const ths = tabela.querySelectorAll("thead th");
        const listaColunas = document.querySelector("#listaColunasProdutos");
        const btnSalvar = document.getElementById("salvarColunasProdutos");

        // Criar checkboxes das colunas
        ths.forEach((th, index) => {
            if (index === 0) return; // Ignorar checkbox da primeira coluna

            const colName = th.innerText.trim();
            const id = "coluna_" + index;

            // Apenas as 4 primeiras colunas selecionadas
            const checked = index <= 4 ? "checked" : "";

            listaColunas.innerHTML += `
        <div class="form-check">
            <input class="form-check-input colunaCheckP" type="checkbox" 
                id="${id}" data-col="${index}" ${checked}>
            <label class="form-check-label" for="${id}">
                ${colName}
            </label>
        </div>
    `;
        });


        // Fun√ß√£o mostrar/esconder colunas
        function atualizarColunas() {
            document.querySelectorAll(".colunaCheckP").forEach(chk => {
                const colIndex = Number(chk.dataset.col);

                // Seleciona todas as c√©lulas da coluna (th e td)
                const colunas = tabela.querySelectorAll(
                    `thead th:nth-child(${colIndex + 1}),
                 tbody td:nth-child(${colIndex + 1})`
                );

                colunas.forEach(cell => {
                    cell.style.display = chk.checked ? "" : "none";
                });
            });
        }

        // Evento de salvar
        btnSalvar.addEventListener("click", () => {
            atualizarColunas();
        });

        // Abrir modal
        document.querySelector("#configColProdutos").addEventListener("click", () => {
            const modal = new bootstrap.Modal(document.getElementById("modalConfigColunasProdutos"));
            modal.show();
        });

        // Aplica imediatamente as colunas padr√£o ao carregar
        setTimeout(() => {
            atualizarColunas();
        }, 50);

    });
</script>
<!-- Colunas vendas -->
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const tabela = document.querySelector("#TabelaVenda table");
        const ths = tabela.querySelectorAll("thead th");
        const listaColunas = document.querySelector("#listaColunasVenda");
        const btnSalvar = document.getElementById("salvarColunasVenda");

        // Criar checkboxes das colunas
        ths.forEach((th, index) => {
            if (index === 0) return; // Ignorar checkbox da primeira coluna

            const colName = th.innerText.trim();
            const id = "coluna_" + index;

            // Apenas as 4 primeiras colunas selecionadas
            const checked = index <= 5 ? "checked" : "";

            listaColunas.innerHTML += `
        <div class="form-check">
            <input class="form-check-input colunaCheckV" type="checkbox" 
                id="${id}" data-col="${index}" ${checked}>
            <label class="form-check-label" for="${id}">
                ${colName}
            </label>
        </div>
    `;
        });


        // Fun√ß√£o mostrar/esconder colunas
        function atualizarColunas() {
            document.querySelectorAll(".colunaCheckV").forEach(chk => {
                const colIndex = Number(chk.dataset.col);

                // Seleciona todas as c√©lulas da coluna (th e td)
                const colunas = tabela.querySelectorAll(
                    `thead th:nth-child(${colIndex + 1}),
                 tbody td:nth-child(${colIndex + 1})`
                );

                colunas.forEach(cell => {
                    cell.style.display = chk.checked ? "" : "none";
                });
            });
        }

        // Evento de salvar
        btnSalvar.addEventListener("click", () => {
            atualizarColunas();
        });

        // Abrir modal
        document.querySelector("#configColVenda").addEventListener("click", () => {
            const modal = new bootstrap.Modal(document.getElementById("modalConfigColunasVenda"));
            modal.show();
        });

        // Aplica imediatamente as colunas padr√£o ao carregar
        setTimeout(() => {
            atualizarColunas();
        }, 50);

    });
</script>
<!-- Colunas financeiro -->
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const tabela = document.querySelector("#TabelaFinanceiro table");
        const ths = tabela.querySelectorAll("thead th");
        const listaColunas = document.querySelector("#listaColunasFinanceiro");
        const btnSalvar = document.getElementById("salvarColunasFinanceiro");

        // Criar checkboxes das colunas
        ths.forEach((th, index) => {
            if (index === 0) return; // Ignorar checkbox da primeira coluna

            const colName = th.innerText.trim();
            const id = "coluna_" + index;

            // Apenas as 4 primeiras colunas selecionadas
            const checked = index <= 5 ? "checked" : "";

            listaColunas.innerHTML += `
        <div class="form-check">
            <input class="form-check-input colunaCheckF" type="checkbox" 
                id="${id}" data-col="${index}" ${checked}>
            <label class="form-check-label" for="${id}">
                ${colName}
            </label>
        </div>
    `;
        });


        // Fun√ß√£o mostrar/esconder colunas
        function atualizarColunas() {
            document.querySelectorAll(".colunaCheckF").forEach(chk => {
                const colIndex = Number(chk.dataset.col);

                // Seleciona todas as c√©lulas da coluna (th e td)
                const colunas = tabela.querySelectorAll(
                    `thead th:nth-child(${colIndex + 1}),
                 tbody td:nth-child(${colIndex + 1})`
                );

                colunas.forEach(cell => {
                    cell.style.display = chk.checked ? "" : "none";
                });
            });
        }

        // Evento de salvar
        btnSalvar.addEventListener("click", () => {
            atualizarColunas();
        });

        // Abrir modal
        document.querySelector("#configColFinanceiro").addEventListener("click", () => {
            const modal = new bootstrap.Modal(document.getElementById("modalConfigColunasFinanceiro"));
            modal.show();
        });

        // Aplica imediatamente as colunas padr√£o ao carregar
        setTimeout(() => {
            atualizarColunas();
        }, 50);

    });
</script>
<!-- Ordena√ß√£o das colunas e filtros -->
<script>
document.addEventListener("DOMContentLoaded", () => {

    // Fecha qualquer filtro ao clicar fora
    document.addEventListener("click", (e) => {
        document.querySelectorAll(".table-filter-input").forEach(inp => {
            if (inp.style.display === "block" && !inp.contains(e.target) && !inp._openedByIcon) {
                inp.style.display = "none";
            }
        });
        // limpar flags de √≠cone abertas
        document.querySelectorAll(".table-filter-input").forEach(inp => inp._openedByIcon = false);
    });

    // Helper: detecta e transforma data dd/mm/yyyy ou dd-mm-yyyy (ou yy)
    function parseDateDMY(text) {
        const t = text.trim();
        const m = t.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2,4})$/);
        if (!m) return null;
        let day = Number(m[1]), month = Number(m[2]), year = Number(m[3]);
        if (year < 100) {
            // se for dois d√≠gitos, assumir 2000+ (ajuste se quiser outra regra)
            year += (year < 50) ? 2000 : 1900;
        }
        return Date.UTC(year, month - 1, day); // timestamp em ms UTC
    }

    // Helper: tenta parsear n√∫mero com formatos BR e EN
    function parseNumber(text) {
        if (!text) return NaN;
        let s = String(text).trim();
        // remover s√≠mbolos comuns (R$, % etc) mas manter sinais e separadores
        s = s.replace(/[^\d\-,.eE+\-]/g, "");
        if (s === "" || s === "-" || s === "+") return NaN;

        // Se cont√©m tanto '.' quanto ',' -> tratar '.' como milhar e ',' como decimal (ex: 1.234,56)
        if (s.indexOf('.') !== -1 && s.indexOf(',') !== -1) {
            s = s.replace(/\./g, '').replace(/,/g, '.');
            const n = parseFloat(s);
            return isNaN(n) ? NaN : n;
        }

        // Se cont√©m apenas ',' -> substituir por '.' (ex: 1234,56)
        if (s.indexOf(',') !== -1 && s.indexOf('.') === -1) {
            s = s.replace(/,/g, '.');
            const n = parseFloat(s);
            return isNaN(n) ? NaN : n;
        }

        // Apenas '.' ou s√≥ d√≠gitos
        const n = parseFloat(s);
        return isNaN(n) ? NaN : n;
    }

    // Fun√ß√£o geral para todas as tabelas
    document.querySelectorAll("table").forEach(table => {
        const thead = table.querySelector("thead");
        if (!thead) return;
        const ths = thead.querySelectorAll("th");

        ths.forEach((th, index) => {
            // n√£o criar filtro/√≠cone para a primeira coluna
            if (index === 0) return;

            // criar √≠cone de filtro
            const filterIcon = document.createElement("span");
            filterIcon.innerHTML = " üîç";
            filterIcon.style.cursor = "pointer";
            filterIcon.style.marginLeft = "6px";
            filterIcon.style.userSelect = "none";

            // criar input oculto
            const input = document.createElement("input");
            input.type = "text";
            input.placeholder = "Filtrar...";
            input.classList.add("form-control", "table-filter-input");
            input.style.position = "absolute";
            input.style.zIndex = "999";
            input.style.display = "none";
            input.style.width = "140px";
            input.style.fontSize = "12px";
            input.style.padding = "2px 6px";
            input.style.top = "100%";
            input.style.left = "0";
            input.style.marginTop = "6px";

            th.style.position = "relative";
            th.appendChild(filterIcon);
            th.appendChild(input);

            // evitar que clique no input feche o mesmo
            input.addEventListener("click", (ev) => {
                ev.stopPropagation();
            });

            // mostrar/ocultar ao clicar no √≠cone
            filterIcon.addEventListener("click", (ev) => {
                ev.stopPropagation();
                // marcar que o input foi aberto a partir do √≠cone para n√£o fechar no listener global imediatamente
                input._openedByIcon = true;
                input.style.display = (input.style.display === "none" ? "block" : "none");
                if (input.style.display === "block") input.focus();
            });

            // filtrar ao digitar
            input.addEventListener("input", () => {
                const termo = input.value.trim().toLowerCase();
                const rows = table.querySelectorAll("tbody tr");
                rows.forEach(row => {
                    const cell = row.querySelector(`td:nth-child(${index + 1})`);
                    const texto = (cell?.innerText ?? "").trim().toLowerCase();
                    row.style.display = texto.includes(termo) ? "" : "none";
                });
            });

            // Ordena√ß√£o por duplo clique (com detec√ß√£o de tipo: data, n√∫mero, texto)
            // usa dataset para guardar dire√ß√£o atual (1 ou -1)
            if (!th.dataset.sortOrder) th.dataset.sortOrder = "1";
            th.addEventListener("dblclick", () => {
                let ordem = Number(th.dataset.sortOrder) || 1;
                const rows = Array.from(table.querySelectorAll("tbody tr"));

                rows.sort((a, b) => {
                    const Araw = a.querySelector(`td:nth-child(${index + 1})`)?.innerText.trim() ?? "";
                    const Braw = b.querySelector(`td:nth-child(${index + 1})`)?.innerText.trim() ?? "";

                    // tentar data (DD/MM/YYYY ou DD-MM-YYYY)
                    const Ad = parseDateDMY(Araw);
                    const Bd = parseDateDMY(Braw);
                    if (Ad !== null && Bd !== null) {
                        return (Ad - Bd) * ordem;
                    }
                    if (Ad !== null) return -1 * ordem; // datas antes de textos
                    if (Bd !== null) return 1 * ordem;

                    // tentar n√∫mero
                    const An = parseNumber(Araw);
                    const Bn = parseNumber(Braw);
                    if (!isNaN(An) && !isNaN(Bn)) {
                        return (An - Bn) * ordem;
                    }
                    if (!isNaN(An)) return -1 * ordem;
                    if (!isNaN(Bn)) return 1 * ordem;

                    // fallback texto (localeCompare para acentua√ß√£o)
                    return Araw.localeCompare(Braw, undefined, { numeric: true }) * ordem;
                });

                // alterna dire√ß√£o para pr√≥xima vez
                th.dataset.sortOrder = String(-ordem);

                // reanexa as linhas ordenadas
                const tbody = table.querySelector("tbody");
                rows.forEach(r => tbody.appendChild(r));
            });
        });
    });

});
</script>


